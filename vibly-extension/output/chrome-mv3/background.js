var background=(function(){"use strict";function s(r){return r==null||typeof r=="function"?{main:r}:r}const i=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome,c=s(()=>{let r={isRecording:!1,isPaused:!1,startTime:null};i.runtime.onMessage.addListener((e,b,t)=>{switch(e.type){case"GET_STATE":t(r);break;case"SET_RECORDING":r.isRecording=e.isRecording,r.startTime=e.isRecording?Date.now():null,t({success:!0});break;case"SET_PAUSED":r.isPaused=e.isPaused,t({success:!0});break}return!0}),console.log("[Vibly] Background service worker loaded")});function l(){}function n(r,...e){}const u={debug:(...r)=>n(console.debug,...r),log:(...r)=>n(console.log,...r),warn:(...r)=>n(console.warn,...r),error:(...r)=>n(console.error,...r)};let o;try{o=c.main(),o instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(r){throw u.error("The background crashed on startup!"),r}return o})();
